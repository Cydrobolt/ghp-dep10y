<html>
<head>
    <title>Dep10y</title>
    <style>
html, body {
    height: 95%;
}
#editor {
    width: 100%;
    height: 100%;
}
#editor-container {
    width: 100%;
    height: 50%;
}
    </style>
    <link rel="stylesheet" href="https://cdn.firebase.com/libs/firepad/1.0.0/firepad.css" />
    <link href="semantic/packaged/css/semantic.min.css" rel="stylesheet" />
    <style>
        .ui.menu .item {
            font-size:15px !important;
        }
    </style>
</head>
<body>
	    <link href="//maxcdn.bootstrapcdn.com/bootswatch/3.2.0/cosmo/bootstrap.min.css" rel="stylesheet">

	    <script src="https://cdn.firebase.com/js/client/1.0.21/firebase.js"></script>

	    <script src="https://cdn.firebase.com/js/simple-login/1.6.3/firebase-simple-login.js"></script>
        <script src="/editor/fileutil.js"></script>
        <script src="//code.jquery.com/jquery.js"></script>
        <script src="tree.jquery.js"></script>
        <link href="jqtree.css" rel="stylesheet" />
	<script>
		var firebase = new Firebase("https://dep10y.firebaseio.com/");

		var fireshrek = new FirebaseSimpleLogin(firebase, function(error, user) {
        if(error) {
            console.log(error);
        }
        else if(user) {
			$("#user").html(user.provider+":"+user.username);
		}
		else {
			location.href = "login.html";
		}
		});

function shrektify() {
    location.href = "/editor.html#" + user.id + ":" + window.shreks[1] + ":" + $("#ftCreate").val();
    location.reload();
}
	
	</script>
	<link href="//maxcdn.bootstrapcdn.com/bootswatch/3.2.0/cosmo/bootstrap.min.css" rel="stylesheet">

    <div class="ui menu">
		<h3 class="header item"><a href="index.html">Dep10y</a></h3>
        <a class="item" href="projects.html">
            <i class="list icon"></i> Dashboard
        </a>
         <span class="right floated text item">
			Signed in as <a href="#" id="user">loading</a>. <a href="logout.html">Logout?</a>
		</span>
    </div>
    <div style="padding-left:20px">
    <div class="ui grid">
    <div class="four wide column" id="stueben">
	</div><div class="twelve wide column">
    <h2>Editing <span id="projectname"></span> -- <span id="filename"></span></h2>
    <div id="editor-container"><div id="editor"></div></div>
    </div>
    </div>
    <br />
     <button class="btn btn-danger" id="depBut" onclick="push_that_button();">Deploy</button>    &nbsp;
    <input type="text" class='form-control'  style="width:250px;display:inline" id="ftCreate" placeholder="File name"/>
		    &nbsp; <a href="#" class='form-control btn btn-success' onclick="shrektify();" style="width:250px;display:inline" id="createFile">Create File</a>
    <br /><br /><i id="status"></i>
    <script src="/ace-builds/src-noconflict/ace.js"></script>
    <script src="static/firepad.js"></script>
    <script src="editor.js"></script>
    <script>
    $("#padName").on("keyup", function() {
		location.href = "editor.html#"+$("#padName").val();
	});
    
    </script>
    <script>
		setup_editor();
		setup_stuff();
        construct_things();
    </script>
    
</div>
</body>
</html>
